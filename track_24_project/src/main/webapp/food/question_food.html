<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë§›ë ˆì¸ì € ì¶”ì²œ | ê²°ì •ëŸ¬</title>
  <style>
:root {
  --bg: linear-gradient(180deg, #e0e7ff 0%, #c7d2fe 30%, #ddd6fe 60%, #ede9fe 100%);
  --card: rgba(255, 255, 255, 0.9);
  --text: #1e1b4b;
  --muted: #6b7280;
  --line: rgba(139, 92, 246, 0.2);
  --red: #f97316;
  --red-dark: #ea580c;
  --shadow: 0 20px 45px rgba(249, 115, 22, 0.15);
  --topbar-h: 70px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  font-family: 'Segoe UI', Pretendard, -apple-system, sans-serif;
  font-size: 16px;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: 
    radial-gradient(ellipse at 30% 20%, rgba(249, 115, 22, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 70% 80%, rgba(251, 146, 60, 0.1) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* TOPBAR */
.topbar {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: var(--topbar-h);
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--line);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.topbar-inner {
  width: min(1100px, 92vw);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 900;
  font-size: 22px;
  color: var(--red-dark);
  text-decoration: none;
}

.logo { font-size: 28px; }

.back-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 700;
  text-decoration: none;
  color: #6b7280;
  border: 1px solid var(--line);
  background: rgba(255, 255, 255, 0.8);
  transition: all 0.3s;
}

.back-btn:hover {
  background: rgba(249, 115, 22, 0.1);
  border-color: var(--red);
  color: var(--red-dark);
}

/* MAIN */
.main-wrap {
  max-width: 800px;
  margin: 0 auto;
  padding: calc(var(--topbar-h) + 40px) 20px 40px;
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ì§„í–‰ ë°” */
.progress-bar {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-bottom: 40px;
}

.progress-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(249, 115, 22, 0.2);
  transition: all 0.3s;
}

.progress-dot.active {
  background: linear-gradient(135deg, #dc2626, #f97316);
  box-shadow: 0 0 12px rgba(249, 115, 22, 0.5);
  transform: scale(1.2);
}

.progress-dot.done {
  background: linear-gradient(135deg, #dc2626, #f97316);
}

/* ì§ˆë¬¸ ì¹´ë“œ */
.question-card {
  background: var(--card);
  border-radius: 32px;
  padding: 40px;
  box-shadow: var(--shadow);
  border: 1px solid var(--line);
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* ìºë¦­í„° + ì§ˆë¬¸ ì˜ì—­ */
.question-header {
  display: flex;
  align-items: flex-start;
  gap: 24px;
  margin-bottom: 32px;
}

.character-area {
  flex-shrink: 0;
}

.character-icon {
  width: 100px;
  height: 100px;
  border-radius: 28px;
  background: linear-gradient(135deg, #dc2626, #f97316);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 50px;
  box-shadow: 0 12px 30px rgba(249, 115, 22, 0.3);
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.question-area {
  flex: 1;
}

.question-label {
  display: inline-block;
  background: linear-gradient(135deg, #dc2626, #f97316);
  color: white;
  padding: 6px 16px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 12px;
}

.question-text {
  font-size: 28px;
  font-weight: 900;
  color: var(--text);
  line-height: 1.4;
}

.question-sub {
  font-size: 15px;
  color: var(--muted);
  margin-top: 8px;
}

/* ì„ íƒì§€ ì˜ì—­ */
.options-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.option-btn {
  background: rgba(255, 255, 255, 0.8);
  border: 2px solid rgba(249, 115, 22, 0.2);
  border-radius: 20px;
  padding: 24px 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.option-btn:hover {
  transform: translateY(-4px);
  border-color: var(--red);
  background: rgba(249, 115, 22, 0.08);
  box-shadow: 0 10px 30px rgba(249, 115, 22, 0.15);
}

.option-btn.selected {
  border-color: var(--red);
  background: linear-gradient(135deg, rgba(220, 38, 38, 0.1), rgba(249, 115, 22, 0.1));
  box-shadow: 0 10px 30px rgba(249, 115, 22, 0.2);
}

.option-btn .emoji {
  font-size: 36px;
}

.option-btn .text {
  font-size: 16px;
  font-weight: 700;
  color: var(--text);
}

.option-btn .desc {
  font-size: 13px;
  color: var(--muted);
}

/* ë²„íŠ¼ ì˜ì—­ */
.action-area {
  display: flex;
  justify-content: space-between;
  margin-top: 32px;
  gap: 16px;
}

.btn {
  padding: 16px 32px;
  border-radius: 16px;
  font-size: 16px;
  font-weight: 800;
  cursor: pointer;
  transition: all 0.3s;
  border: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-prev {
  background: rgba(255, 255, 255, 0.9);
  color: #6b7280;
  border: 2px solid var(--line);
}

.btn-prev:hover {
  background: rgba(249, 115, 22, 0.1);
  border-color: var(--red);
  color: var(--red-dark);
}

.btn-next {
  background: linear-gradient(135deg, #dc2626, #f97316);
  color: white;
  box-shadow: 0 8px 25px rgba(249, 115, 22, 0.3);
  margin-left: auto;
}

.btn-next:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 30px rgba(249, 115, 22, 0.4);
}

.btn-next:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* ë§í’ì„  íŒ */
.tip-bubble {
  background: rgba(249, 115, 22, 0.1);
  border: 1px solid rgba(249, 115, 22, 0.2);
  border-radius: 16px;
  padding: 14px 20px;
  margin-top: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.tip-bubble .icon {
  font-size: 24px;
}

.tip-bubble .text {
  font-size: 14px;
  color: var(--red-dark);
  font-weight: 600;
}

/* ë°˜ì‘í˜• */
@media (max-width: 600px) {
  .question-header {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .question-text {
    font-size: 22px;
  }
  .options-grid {
    grid-template-columns: 1fr;
  }
  .character-icon {
    width: 80px;
    height: 80px;
    font-size: 40px;
  }
}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="main_powerranger.html">
        <div class="logo">ğŸœ</div>
        <div>ë§›ë ˆì¸ì €</div>
      </a>
      <a class="back-btn" href="main_powerranger.html">
        â† ëŒì•„ê°€ê¸°
      </a>
    </div>
  </div>

  <div class="main-wrap">
    <!-- ì§„í–‰ ë°” -->
    <div class="progress-bar">
      <div class="progress-dot active" data-step="1"></div>
      <div class="progress-dot" data-step="2"></div>
      <div class="progress-dot" data-step="3"></div>
      <div class="progress-dot" data-step="4"></div>
    </div>

    <!-- ì§ˆë¬¸ ì¹´ë“œ -->
    <div class="question-card">
      <!-- ì§ˆë¬¸ 1: ê¸°ë¶„ -->
      <div class="question-panel active" data-step="1">
        <div class="question-header">
          <div class="character-area">
            <div class="character-icon">ğŸœ</div>
          </div>
          <div class="question-area">
            <div class="question-label">Q1. ê¸°ë¶„</div>
            <div class="question-text">ì˜¤ëŠ˜ ê¸°ë¶„ì´ ì–´ë•Œ? ğŸ˜Š</div>
            <div class="question-sub">ê¸°ë¶„ì— ë”°ë¼ ì–´ìš¸ë¦¬ëŠ” ìŒì‹ì´ ë‹¬ë¼!</div>
          </div>
        </div>

        <div class="options-area">
          <div class="options-grid">
            <div class="option-btn" data-value="happy">
              <span class="emoji">ğŸ˜„</span>
              <span class="text">ê¸°ë¶„ ì¢‹ì•„!</span>
              <span class="desc">ì‹ ë‚˜ëŠ” ë‚ ì´ì•¼</span>
            </div>
            <div class="option-btn" data-value="tired">
              <span class="emoji">ğŸ˜«</span>
              <span class="text">í”¼ê³¤í•´...</span>
              <span class="desc">ì—ë„ˆì§€ ì¶©ì „ í•„ìš”</span>
            </div>
            <div class="option-btn" data-value="stressed">
              <span class="emoji">ğŸ˜¤</span>
              <span class="text">ìŠ¤íŠ¸ë ˆìŠ¤ ë°›ì•„</span>
              <span class="desc">í™• í’€ê³  ì‹¶ì–´</span>
            </div>
            <div class="option-btn" data-value="sad">
              <span class="emoji">ğŸ˜¢</span>
              <span class="text">ìš°ìš¸í•´...</span>
              <span class="desc">ìœ„ë¡œê°€ í•„ìš”í•´</span>
            </div>
          </div>
        </div>

        <div class="tip-bubble">
          <span class="icon">ğŸ’¡</span>
          <span class="text">ë§›ë ˆì¸ì €ê°€ ê¸°ë¶„ì— ë”± ë§ëŠ” ìŒì‹ì„ ì¶”ì²œí•´ì¤„ê²Œ!</span>
        </div>
      </div>

      <!-- ì§ˆë¬¸ 2: ì‹ì‚¬ ì¢…ë¥˜ -->
      <div class="question-panel" data-step="2">
        <div class="question-header">
          <div class="character-area">
            <div class="character-icon">ğŸœ</div>
          </div>
          <div class="question-area">
            <div class="question-label">Q2. ì‹ì‚¬</div>
            <div class="question-text">ì–´ë–¤ ë¼ë‹ˆë¥¼ ì°¾ê³  ìˆì–´? ğŸ½ï¸</div>
            <div class="question-sub">ìƒí™©ì— ë§ëŠ” ë©”ë‰´ë¥¼ ê³¨ë¼ì¤„ê²Œ!</div>
          </div>
        </div>

        <div class="options-area">
          <div class="options-grid">
            <div class="option-btn" data-value="breakfast">
              <span class="emoji">ğŸŒ…</span>
              <span class="text">ì•„ì¹¨</span>
              <span class="desc">ê°€ë³ê²Œ ì‹œì‘</span>
            </div>
            <div class="option-btn" data-value="lunch">
              <span class="emoji">â˜€ï¸</span>
              <span class="text">ì ì‹¬</span>
              <span class="desc">ë“ ë“ í•˜ê²Œ</span>
            </div>
            <div class="option-btn" data-value="dinner">
              <span class="emoji">ğŸŒ™</span>
              <span class="text">ì €ë…</span>
              <span class="desc">í•˜ë£¨ ë§ˆë¬´ë¦¬</span>
            </div>
            <div class="option-btn" data-value="snack">
              <span class="emoji">ğŸ¿</span>
              <span class="text">ê°„ì‹/ì•¼ì‹</span>
              <span class="desc">ì¶œì¶œí•  ë•Œ</span>
            </div>
          </div>
        </div>

        <div class="tip-bubble">
          <span class="icon">ğŸ’¡</span>
          <span class="text">ì‹œê°„ëŒ€ì— ë”°ë¼ ì¶”ì²œ ë©”ë‰´ê°€ ë‹¬ë¼ì ¸!</span>
        </div>
      </div>

      <!-- ì§ˆë¬¸ 3: ìŒì‹ ìŠ¤íƒ€ì¼ -->
      <div class="question-panel" data-step="3">
        <div class="question-header">
          <div class="character-area">
            <div class="character-icon">ğŸœ</div>
          </div>
          <div class="question-area">
            <div class="question-label">Q3. ìŠ¤íƒ€ì¼</div>
            <div class="question-text">ì–´ë–¤ ëŠë‚Œì˜ ìŒì‹ì´ ë•¡ê²¨? ğŸ¤¤</div>
            <div class="question-sub">ì˜¤ëŠ˜ ì…ë§›ì— ë§ëŠ” ìŠ¤íƒ€ì¼ì„ ê³¨ë¼ë´!</div>
          </div>
        </div>

        <div class="options-area">
          <div class="options-grid">
            <div class="option-btn" data-value="hot">
              <span class="emoji">ğŸ”¥</span>
              <span class="text">ëœ¨ëˆëœ¨ëˆ</span>
              <span class="desc">êµ­ë¬¼/ì°Œê°œ/íƒ•</span>
            </div>
            <div class="option-btn" data-value="spicy">
              <span class="emoji">ğŸŒ¶ï¸</span>
              <span class="text">ë§¤ì½¤í•˜ê²Œ</span>
              <span class="desc">í™”ëˆí•˜ê²Œ!</span>
            </div>
            <div class="option-btn" data-value="light">
              <span class="emoji">ğŸ¥—</span>
              <span class="text">ê°€ë³ê²Œ</span>
              <span class="desc">ê±´ê°•í•˜ê²Œ</span>
            </div>
            <div class="option-btn" data-value="heavy">
              <span class="emoji">ğŸ–</span>
              <span class="text">ë“ ë“ í•˜ê²Œ</span>
              <span class="desc">í‘¸ì§í•˜ê²Œ!</span>
            </div>
          </div>
        </div>

        <div class="tip-bubble">
          <span class="icon">ğŸ’¡</span>
          <span class="text">ì·¨í–¥ ì €ê²© ë©”ë‰´ë¥¼ ì°¾ê³  ìˆì–´!</span>
        </div>
      </div>

      <!-- ì§ˆë¬¸ 4: í•¨ê»˜ ë¨¹ì„ ì‚¬ëŒ -->
      <div class="question-panel" data-step="4">
        <div class="question-header">
          <div class="character-area">
            <div class="character-icon">ğŸœ</div>
          </div>
          <div class="question-area">
            <div class="question-label">Q4. ìƒí™©</div>
            <div class="question-text">ëˆ„êµ¬ë‘ ë¨¹ì„ ê±°ì•¼? ğŸ‘¥</div>
            <div class="question-sub">ìƒí™©ì— ë§ëŠ” ë©”ë‰´ë¥¼ ì¶”ì²œí•´ì¤„ê²Œ!</div>
          </div>
        </div>

        <div class="options-area">
          <div class="options-grid">
            <div class="option-btn" data-value="alone">
              <span class="emoji">ğŸ§‘</span>
              <span class="text">í˜¼ë°¥</span>
              <span class="desc">ë‚˜ë§Œì˜ ì‹œê°„</span>
            </div>
            <div class="option-btn" data-value="friend">
              <span class="emoji">ğŸ‘«</span>
              <span class="text">ì¹œêµ¬ë‘</span>
              <span class="desc">ì¦ê±°ìš´ ì‹ì‚¬</span>
            </div>
            <div class="option-btn" data-value="family">
              <span class="emoji">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
              <span class="text">ê°€ì¡±ì´ë‘</span>
              <span class="desc">ì˜¨ ê°€ì¡± í•¨ê»˜</span>
            </div>
            <div class="option-btn" data-value="date">
              <span class="emoji">ğŸ’‘</span>
              <span class="text">ë°ì´íŠ¸</span>
              <span class="desc">ë¶„ìœ„ê¸° ìˆê²Œ</span>
            </div>
          </div>
        </div>

        <div class="tip-bubble">
          <span class="icon">ğŸ”¥</span>
          <span class="text">ë§ˆì§€ë§‰ ì§ˆë¬¸ì´ì•¼! ì´ì œ ì¶”ì²œí•´ì¤„ê²Œ!</span>
        </div>
      </div>

      <!-- ë²„íŠ¼ ì˜ì—­ -->
      <div class="action-area">
        <button class="btn btn-prev" id="prevBtn" style="visibility: hidden;">
          â† ì´ì „
        </button>
        <button class="btn btn-next" id="nextBtn" disabled>
          ë‹¤ìŒ â†’
        </button>
      </div>
    </div>
  </div>

  <script>
let currentStep = 1;
const MAX_STEP = 4;
const answers = {};

function updateUI() {
  // ì§„í–‰ ë°” ì—…ë°ì´íŠ¸
  document.querySelectorAll('.progress-dot').forEach(dot => {
    const step = Number(dot.dataset.step);
    dot.classList.remove('active', 'done');
    if (step === currentStep) dot.classList.add('active');
    if (step < currentStep) dot.classList.add('done');
  });

  // íŒ¨ë„ ì „í™˜
  document.querySelectorAll('.question-panel').forEach(panel => {
    panel.style.display = Number(panel.dataset.step) === currentStep ? 'block' : 'none';
  });

  // ë²„íŠ¼ ìƒíƒœ
  document.getElementById('prevBtn').style.visibility = currentStep === 1 ? 'hidden' : 'visible';
  
  const nextBtn = document.getElementById('nextBtn');
  if (currentStep === MAX_STEP) {
    nextBtn.textContent = 'ğŸ”¥ ì¶”ì²œë°›ê¸°!';
  } else {
    nextBtn.textContent = 'ë‹¤ìŒ â†’';
  }

  // í˜„ì¬ ìŠ¤í…ì— ì„ íƒëœ ê°’ì´ ìˆìœ¼ë©´ ë²„íŠ¼ í™œì„±í™”
  const currentPanel = document.querySelector(`.question-panel[data-step="${currentStep}"]`);
  const hasSelection = currentPanel.querySelector('.option-btn.selected');
  nextBtn.disabled = !hasSelection;
}

function selectOption(btn, step) {
  // ê°™ì€ íŒ¨ë„ì˜ ë‹¤ë¥¸ ì„ íƒ í•´ì œ
  btn.closest('.options-grid').querySelectorAll('.option-btn').forEach(b => {
    b.classList.remove('selected');
  });
  btn.classList.add('selected');
  
  // ë‹µë³€ ì €ì¥
  answers[step] = btn.dataset.value;
  
  // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
  document.getElementById('nextBtn').disabled = false;
}

document.addEventListener('DOMContentLoaded', () => {
  updateUI();

  // ì˜µì…˜ í´ë¦­
  document.querySelectorAll('.option-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const panel = btn.closest('.question-panel');
      const step = Number(panel.dataset.step);
      selectOption(btn, step);
    });
  });

  // ì´ì „ ë²„íŠ¼
  document.getElementById('prevBtn').addEventListener('click', () => {
    if (currentStep > 1) {
      currentStep--;
      updateUI();
    }
  });

  // ë‹¤ìŒ ë²„íŠ¼
  document.getElementById('nextBtn').addEventListener('click', () => {
    if (currentStep < MAX_STEP) {
      currentStep++;
      updateUI();
    } else {
      // ë§ˆì§€ë§‰ ë‹¨ê³„ - ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
      console.log('ì„ íƒí•œ ë‹µë³€:', answers);
      alert('ì¶”ì²œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤!\n\nì„ íƒ: ' + JSON.stringify(answers, null, 2));
      // location.href = 'result_food.html?' + new URLSearchParams(answers);
    }
  });
});
  </script>
</body>
</html>
